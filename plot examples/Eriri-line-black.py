# -*- coding: utf-8 -*-
import turtle as tur

"""
全局变量定义
        
    bezier_STEP 贝塞尔函数的取样次数
    DRAW_SPEED  绘制速度
    WIDTH       界面宽度
    HEIGHT      界面高度
    Xh          记录前一个贝塞尔函数的手柄
"""
bezier_STEP = 15
T_RANGE = map(lambda x: x/bezier_STEP, range(0, bezier_STEP+1))
# T_LIST = list(map(lambda x: x/bezier_STEP, range(0, bezier_STEP+1)))
T_LIST = [x/bezier_STEP for x in range(0, bezier_STEP+1)]
DRAW_SPEED = 5
WIDTH = 600
HEIGHT = 600
Xh = 0
Yh = 0


"""
辅助函数
"""


# 线性插值
# LinearInterp = lambda p1, p2, t: p1*(1-t) + p2*t
def linear_interp(p1, p2, t):
    return p1*(1-t) + p2*t


bezier = linear_interp  # 兼容


# 一阶 bezier 函数 - Tuple
def bezier1(p1, p2, t):
    return (
        linear_interp(p1[0], p2[0], t),
        linear_interp(p1[1], p2[1], t))


# bezier_1 = lambda x1,y1, x2,y2, t : bezier1((x1,y1), (x2,y2), t)
def bezier_1(x1, y1, x2, y2, t):  # 兼容
    return bezier1((x1, y1), (x2, y2), t)


# 二阶 bezier 函数
def bezier2(p1, p2, p3, t):
    return bezier1(
        bezier1(p1, p2, t),
        bezier1(p2, p3, t),
        t
    )


# 三阶 bezier 函数
def bezier3(p1, p2, p3, p4, t):
    return bezier1(
        bezier2(p1, p2, p3, t),
        bezier2(p2, p3, p4, t),
        t
    )


def bezier_3(p1, p2, p3, p4):
    tur.pendown()
    for t in T_LIST:
        x,y = bezier3(p1, p2, p3, p4, t)
        tur.goto(x, y)
    tur.penup()

# def fmap(func, *iterables):
#     return list(map(func, iterables))


# def plot_list(lx, ly):
#     tur.goto(lx[0], ly[0])
#     tur.pendown()
#     fmap(tur.goto, lx, ly)
#     tur.penup()


def p(c):  # 将 SVG 坐标 c 转换为 tur 坐标
    return complex(
        + c.real - WIDTH/2,
        - c.imag + HEIGHT/2
    )


def M(c):  # 移动到 SVG 坐标 c
    tur.goto(p(c).real, p(c).imag)


def Line(start, end):
    # tur.penup()
    M(start)
    tur.pendown()
    M(end)
    tur.penup()


def CubicBezier(start, control1, control2, end):
    M(start)
    bezier_3(
        (p(start).real, p(start).imag),
        (p(control1).real, p(control1).imag),
        (p(control2).real, p(control2).imag),
        (p(end).real, p(end).imag))


def Arc(a, *b):
    pass


"""
绘图代码
"""
screen = tur.Screen()
screen.bgcolor("white")

tur.tracer(100)   # 调整作画时间
tur.pensize(1)
tur.speed(DRAW_SPEED)
tur.penup()

Arc(108.125+258.75j, 465.456+465.456j,  0.0,  False,  False,  135.375+294.875j)
CubicBezier(135.38+294.88j, 146.69+308.45j, 159.48+322.2j, 170.08+332.5j)
Arc(90 + 281.75j,    570.196+570.196j,  0.0,  False,  False,  121.5+309j)
CubicBezier(121.5+309j, 131.65+317.15j, 143.07+326.3j, 152.62+333j)
CubicBezier(243+266j, 233.02+276.04j, 216.65+291.9j, 205.38+302.25j)
CubicBezier(205.38+302.25j, 194.31+312.41j, 180.74+323.57j, 170.08+332.5j)
CubicBezier(266.61+278.25j, 257.39+286.89j, 245.3+296.75j, 233.25+305.88j)
CubicBezier(233.25+305.88j, 221.88+314.49j, 203.33+326.22j, 193.06+332.5j)
Line(142.31+325.42j, 142.31+332.5j)
Line(204.42+325.42j, 204.42+332.5j)
CubicBezier(90+281.75j, 86.68+287.29j, 82.92+294.64j, 80.12+304.38j)
CubicBezier(80.12+304.38j, 77.06+315.06j, 76.86+326.19j, 76.88+333j)
Line(84.12+303.88j, 85.5+332.5j)
CubicBezier(85.5+290.12j, 86.76+293.3j, 89.6+303.6j, 90.5+307.38j)
CubicBezier(90.5+307.38j, 93.58+320.3j, 92.49+324.38j, 93.49+332.5j)
CubicBezier(266.61+278.25j, 268.85+279.17j, 271.37+280.53j, 274.5+283.75j)
CubicBezier(274.5+283.75j, 277.01+286.33j, 279.07+289.57j, 280.88+294.88j)
CubicBezier(280.88+294.88j, 285.42+308.21j, 285.34+327.97j, 285.27+332.5j)
CubicBezier(259.81+314.31j, 262.09+311.1j, 264.83+304.85j, 266.83+298j)
CubicBezier(266.83+298j, 268.81+291.26j, 269.05+283.24j, 268.88+279.33j)
Line(266.61+332.5j, 265.47+302.26j)
Line(265.47+315.83j, 274.33+322j)
Line(274.33+322j, 271.83+332.5j)
CubicBezier(232.35+262.4j, 233.2+261.89j, 242.58+256.6j, 252.33+260.67j)
CubicBezier(252.33+260.67j, 262.28+264.81j, 266.42+277.34j, 266.61+278.25j)
CubicBezier(205.75+244.83j, 218.42+245.83j, 222.74+250.56j, 225.17+252.9j)
CubicBezier(225.17+252.9j, 228.06+255.7j, 227.93+258.03j, 231.17+261.33j)
CubicBezier(231.17+261.33j, 235+265.25j, 239.61+265.3j, 243+266j)
Line(152.63+246.31j, 133.83+246.83j)
Line(205.75+244.83j, 192.38+245.21j)
CubicBezier(133.83+246.83j, 130.47+250.8j, 128.29+253.37j, 127.33+254.5j)
CubicBezier(127.33+254.5j, 123.46+259.07j, 121.48+261.35j, 119.5+261.33j)
CubicBezier(119.5+261.33j, 116.84+261.31j, 116.35+258.49j, 113.33+257.67j)
CubicBezier(113.33+257.67j, 109.02+256.49j, 104.38+260.71j, 101.5+263.33j)
CubicBezier(101.5+263.33j, 98.51+266.05j, 93.23+271.75j, 90+281.75j)

## 头
# 下巴
CubicBezier(98.22+206.94j, 102.75+213.21j, 120.28+235.7j, 151+242.33j)
CubicBezier(151+242.33j, 198.19+252.53j, 233.89+215.8j, 235.97+213.6j)

CubicBezier(71+72.25j, 88.49+35.62j, 124.96+11.84j, 165+11j)
CubicBezier(165+11j, 207.65+10.11j, 247.14+35.4j, 264.75+75j)
CubicBezier(73.64+67.08j, 64.75+72.25j, 47.75+96.87j, 42.75+114j)
CubicBezier(42.75+114j, 35.14+140.09j, 32.03+149.18j, 31.5+177.5j)
CubicBezier(31.5+177.5j, 30.91+209.22j, 37.32+235.38j, 40.58+255.5j)
CubicBezier(40.58+255.5j, 43.47+273.28j, 46.28+299.08j, 45+331.62j)
CubicBezier(264.75+75j, 267.47+74.8j, 272.13+74.85j, 277+77.17j)
CubicBezier(277+77.17j, 279.46+78.34j, 282.98+80.56j, 287.83+87.33j)
CubicBezier(287.83+87.33j, 289.94+90.28j, 294.56+96.84j, 297.5+106.5j)
CubicBezier(297.5+106.5j, 309.84+147.12j, 309.01+207.33j, 309.01+207.33j)
CubicBezier(309.01+207.33j, 308.64+250.67j, 307.59+259.25j, 305.83+299.25j)
CubicBezier(305.83+299.25j, 304.95+319.23j, 305.66+321.86j, 306.33+332.5j)
Line(302+331.5j, 284.52+237.88j)
CubicBezier(284.52+237.88j, 283.83+233.67j, 280.78+230.82j, 280.5+226.75j)
Line(280.5+226.75j, 277.12+153.94j)
CubicBezier(52+332j, 51.09+310.85j, 53.27+294.33j, 55.5+283j)
CubicBezier(55.5+283j, 57.93+270.63j, 59.97+266.7j, 61+254.5j)
CubicBezier(61+254.5j, 62.36+238.37j, 61.14+235.15j, 62.5+218.33j)
CubicBezier(62.5+218.33j, 63.65+204.11j, 63.56+202.46j, 66+188.5j)
CubicBezier(66+188.5j, 67.59+179.36j, 65.73+143.03j, 63.44+126.69j)
CubicBezier(70+91j, 68.3+106.56j, 69.52+132.9j, 73.5+155.81j)
CubicBezier(73.5+155.81j, 77.12+176.69j, 93.44+219.31j, 104.78+236.88j)
CubicBezier(104.78+236.88j, 108.12+243.54j, 109.38+246.83j, 109.75+258.67j)
Line(109.75+258.67j, 106.88+331.63j)
Arc(84.5+161.125j, 28.51+28.51j, 0.0, False, False, 87.625+164j)
CubicBezier(87.62+164j, 92.83+168.12j, 99.38+169.82j, 103.08+170.38j)
CubicBezier(93+83j, 90.48+93.09j, 90.77+110.61j, 91.71+129.62j)
CubicBezier(91.71+129.62j, 92.54+146.55j, 98.87+161.67j, 103.08+170.38j)
CubicBezier(94.06+167.83j, 94.06+177.92j, 95.67+188.73j, 97.06+197.85j)
CubicBezier(97.06+197.85j, 98.75+209.05j, 99.85+228.88j, 105.63+238.6j)
CubicBezier(71+72.25j, 68.9+79.67j, 62.98+107.68j, 63.08+117.25j)
CubicBezier(63.08+117.25j, 63.32+139.68j, 67.37+151.64j, 72.5+166.33j)
Line(72.41+166.31j, 75.45+164.64j)
CubicBezier(109.36+251.96j, 109.03+255.24j, 106.36+271.11j, 105+277.33j)
CubicBezier(105+277.33j, 102.35+289.45j, 99.35+294.72j, 97+303.67j)
CubicBezier(97+303.67j, 95.47+309.52j, 93.86+320.9j, 93.49+332.5j)
Arc(246.833+51.333j, 200.66+200.66j, 0.0, False, True, 259.166+91.666j)
CubicBezier(259.17+91.67j, 264.63+119.88j, 262.41+141.81j, 260.67+159.33j)
CubicBezier(260.67+159.33j, 257.05+195.66j, 247.52+221.03j, 244.67+228.33j)
CubicBezier(244.67+228.33j, 243.85+230.42j, 242.02+235.71j, 238.67+242.33j)
CubicBezier(238.67+242.33j, 237.4+244.83j, 237.88+255.94j, 239.81+267.08j)
CubicBezier(239.81+267.08j, 242.22+280.98j, 243.87+289.09j, 244.62+293.25j)
CubicBezier(244.62+293.25j, 246.24+302.14j, 247.76+316.38j, 247+332.5j)
CubicBezier(264.75+75j, 266.67+80.23j, 266.25+92.94j, 267.75+103.75j)
CubicBezier(267.75+103.75j, 269.05+113.1j, 270.41+117.62j, 271.25+122.75j)
CubicBezier(271.25+122.75j, 272.73+131.8j, 273.23+144.35j, 267.02+162.22j)
Line(267.02+162.22j, 277.12+153.94j)
CubicBezier(241.83+236.08j, 241.69+242.93j, 243.42+261.08j, 246.17+273.33j)
CubicBezier(246.17+273.33j, 248.1+281.99j, 252.42+289.25j, 254.25+296.82j)
CubicBezier(254.25+296.82j, 256+304.06j, 262.62+318.83j, 260.83+332.5j)
Arc(238.667+163j, 353.22+353.22j, 0.0, False, False, 236+200.167j)
CubicBezier(236+200.17j, 235.73+214.71j, 237.31+238.17j, 238.19+244.16j)
Arc(244.5+160.5j, 23.166+23.166j, 0.0, False, True, 236.833+164.333j)
Arc(236.833+164.333j, 23.293+23.293j, 0.0, False, True, 226.333+164.833j)
CubicBezier(226.33+164.83j, 235.42+158.08j, 237.45+133.42j, 237.96+124.94j)
CubicBezier(237.96+124.94j, 238.67+113.31j, 238.89+84.44j, 236.33+70j)
CubicBezier(91.09+101.19j, 91.61+106.52j, 93.21+113.16j, 94.72+117.05j)
CubicBezier(94.72+117.05j, 97.2+123.43j, 100.92+127.38j, 105.2+129.28j)
CubicBezier(104.91+99.34j, 104.91+105.91j, 108.75+119.72j, 109.56+121.06j)
CubicBezier(109.56+121.06j, 110.84+123.19j, 112.03+125.25j, 117.72+125.25j)
Arc(107.625+75.875j, 215.29+215.29j, 0.0, False, False, 105+97.75j)
CubicBezier(105+97.75j, 104.21+109.25j, 104.5+120.12j, 105.2+129.28j)
CubicBezier(130+40.5j, 129+53.98j, 129.38+73.88j, 129.69+82.31j)
CubicBezier(129.69+82.31j, 130.12+94.13j, 131.12+102.33j, 133.38+108j)
CubicBezier(133.38+108j, 137.29+117.86j, 146.64+124.16j, 151.88+127.04j)
CubicBezier(149.75+96.04j, 149.7+100.3j, 149.31+107.84j, 149.73+112.81j)
CubicBezier(149.73+112.81j, 150.2+118.47j, 150.98+122.38j, 151.88+127.04j)
CubicBezier(149.75+96.04j, 149.88+96.29j, 155.83+123.67j, 155.83+123.67j)
CubicBezier(155.83+123.67j, 156.73+123.09j, 160.84+123.03j, 163.17+123.67j)
CubicBezier(163.17+123.67j, 167.53+124.87j, 169.36+127.65j, 169.5+127.92j)
CubicBezier(169.5+127.92j, 168.53+122.17j, 167.07+110.09j, 167.22+102.42j)
CubicBezier(167.22+102.42j, 167.47+88.83j, 170.23+77.55j, 172.97+69.42j)
CubicBezier(167.66+112.81j, 169.53+110.64j, 173.34+105.57j, 175+100j)
CubicBezier(175+100j, 177.31+92.27j, 176.02+85.69j, 175.25+82.75j)
Arc(185.875+83.25j, 107.35+107.35j, 0.0, False, True, 185.875+104j)
CubicBezier(185.88+104j, 184.88+114.26j, 182.11+123.27j, 179.81+129.79j)
CubicBezier(175.25+82.75j, 177.56+88.88j, 177.75+102.91j, 178.62+108.12j)
CubicBezier(178.62+108.12j, 178.92+109.85j, 180.18+122.77j, 179.81+129.79j)
Arc(205.5+58.167j, 28.862+28.862j, 0.0, False, True, 209.5+66.334j)
CubicBezier(209.5+66.33j, 210.15+68.47j, 210.49+70.47j, 210.67+72.5j)
CubicBezier(210.67+72.5j, 211.15+78.06j, 211.12+91.64j, 210.33+109.67j)
CubicBezier(186.38+100.33j, 187.01+102.76j, 188.53+109.45j, 188.83+112.67j)
CubicBezier(188.83+112.67j, 189.3+117.62j, 189.56+119.81j, 189.06+123.21j)
CubicBezier(189.06+123.21j, 194.73+123.2j, 199.46+122.31j, 202.17+121.33j)
CubicBezier(202.17+121.33j, 205.88+119.99j, 207.1+118.82j, 207.83+117.83j)
CubicBezier(207.83+117.83j, 209.97+114.95j, 210.09+112.31j, 210.33+109.67j)
Arc(214.333+118j, 24.017+24.017j, 0.0, False, True, 220.833+123.5j)
CubicBezier(220.83+123.5j, 224.18+127.56j, 225.37+131.75j, 225.83+134j)
CubicBezier(229.74+108.64j, 231.31+111.13j, 232.56+113.58j, 234.04+116.88j)
CubicBezier(234.04+116.88j, 236.73+122.84j, 237.71+124.25j, 237.71+128.56j)
Arc(228.833+80j, 177.697+177.697j, 0.0, False, True, 229.833+106.833j)
CubicBezier(229.83+106.83j, 229.47+116.41j, 227.19+126.65j, 225.83+134j)
CubicBezier(210.54+95.84j, 212.02+97.63j, 211.91+97.35j, 213.33+100.5j)
CubicBezier(213.33+100.5j, 216.81+108.21j, 215.05+115.52j, 214.33+118j)
CubicBezier(75.45+164.64j, 72.5+166.33j, 72.43+166.24j, 71.64+169.25j)
CubicBezier(71.64+169.25j, 70.31+174.33j, 73.78+183.75j, 75.67+186.62j)
CubicBezier(75.67+186.62j, 79.2+191.96j, 81.88+195.12j, 86.72+198.81j)
CubicBezier(260.67+159.33j, 263.5+158.56j, 264.41+159.28j, 266.16+161.25j)
CubicBezier(266.16+161.25j, 269.06+164.53j, 269.72+178.72j, 266.83+186j)
CubicBezier(266.83+186j, 262.68+196.49j, 256.99+199.81j, 253.5+201.49j)
CubicBezier(117.72+125.25j, 115.69+112.81j, 117+91.69j, 121.33+82.75j)
CubicBezier(121.33+82.75j, 124.64+75.93j, 125.91+74.12j, 129.35+70.73j)

# 脖子
Arc(143.667+258.333j, 481.666+481.666j, 0.0, False, False, 155+293j)
CubicBezier(155+293j, 160.07+306.73j, 165.92+321.02j, 171.31+332.5j)
CubicBezier(207.38+266j, 201.7+273.24j, 193.78+284.27j, 188+294.5j)
CubicBezier(188+294.5j, 180.5+307.77j, 174.86+321.91j, 171.31+332.5j)
Line(145.07+263.14j, 152.62+256.5j)
Line(152.62+256.5j, 152.62+242.67j)
Line(204.07+270.18j, 192.38+256.62j)
Line(192.38+256.62j, 192.38+240.44j)
tur.hideturtle()  # 隐藏乌龟图标
tur.update()